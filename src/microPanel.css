:root {
  --panel-width: 1180px;
  --key-size: 52px;
  --panel-radius: 22px;
  --key-radius: 10px;
  --panel-padding: 32px;
  --inner-gap: 6px;
  --key-font-size: 12px;
}

@media (max-width: 1100px) {
  :root {
    --key-size: 46px;
    --panel-padding: 26px;
  }
}

@media (max-width: 900px) {
  :root {
    --key-size: 42px;
    --panel-padding: 22px;
  }
}

.panel {
  width: min(96vw, var(--panel-width));
  padding: var(--panel-padding);
  border-radius: var(--panel-radius);
  background:
    radial-gradient(160% 140% at 34% -12%, #1a1b1d 0 62%, #0c0c0d 100%),
    linear-gradient(#0a0b0c, #0a0b0c);
  box-shadow:
    inset 0 10px 20px rgba(255, 255, 255, 0.04),
    inset 0 -12px 22px rgba(0, 0, 0, 0.55),
    0 28px 50px rgba(0, 0, 0, 0.65);
  position: relative;
  color: #0f0f10;
}

.surface {
  margin-top: 18px;
  display: grid;
  grid-template-columns: repeat(24, minmax(0, 1fr));
  grid-auto-rows: var(--key-size);
  gap: var(--inner-gap);
  align-items: center;
}

.key {
  all: unset;
  height: var(--key-size);
  border-radius: var(--key-radius);
  display: grid;
  place-items: center;
  font-weight: 600;
  font-size: var(--key-font-size);
  text-align: center;
  line-height: 1.05;
  padding: 0 4px;
  user-select: none;
  cursor: pointer;
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.24),
    inset 0 -4px 10px rgba(0, 0, 0, 0.55),
    0 5px 12px rgba(0, 0, 0, 0.35);
  transition: transform 40ms ease, filter 120ms ease;
}

.key:active {
  transform: translateY(1px);
  filter: brightness(0.98);
}

.key:focus-visible {
  outline: 2px solid #4fa3ff;
  outline-offset: 2px;
}

.key.sm {
  font-size: 11px;
}

.key.pill {
  border-radius: 9px;
  height: calc(var(--key-size) - 6px);
  margin: auto 0;
}

.key.grey {
  background: linear-gradient(#f1f1f1, #dfdfdf 58%, #cbcbcb);
  color: #121212;
}

.key.lit-red {
  background: radial-gradient(circle at 50% 35%, #ff7373, #ff3838 60%, #b41a1a);
  color: #251010;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.28);
  box-shadow:
    0 0 12px rgba(255, 70, 70, 0.35),
    inset 0 -6px 14px rgba(0, 0, 0, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.26);
}

.key.lit-amber {
  background: radial-gradient(circle at 50% 35%, #ffd87f, #ffc443 62%, #b26f08);
  color: #332100;
  box-shadow:
    0 0 11px rgba(255, 200, 90, 0.4),
    inset 0 -6px 14px rgba(0, 0, 0, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.26);
}

.key.lit-green {
  background: radial-gradient(circle at 50% 35%, #86ffa2, #41e46c 60%, #118139);
  color: #0f2a14;
  box-shadow:
    0 0 12px rgba(74, 232, 118, 0.4),
    inset 0 -6px 14px rgba(0, 0, 0, 0.5),
    inset 0 2px 0 rgba(255, 255, 255, 0.26);
}

.fader-wrap {
  grid-column: 19 / span 4;
  grid-row: 2 / span 6;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
}

.fader-slot {
  --value: 0.5;
  --fader-padding: 18px;
  width: 78px;
  height: 320px;
  border-radius: 14px;
  background: linear-gradient(#121213, #080809);
  box-shadow:
    inset 0 9px 20px rgba(0, 0, 0, 0.82),
    inset 0 -10px 22px rgba(0, 0, 0, 0.65);
  position: relative;
  touch-action: none;
}

.fader-line {
  position: absolute;
  inset: var(--fader-padding) auto var(--fader-padding) 50%;
  width: 3px;
  transform: translateX(-50%);
  border-radius: 2px;
  background: linear-gradient(#1b1c1d, #0c0c0d);
}

.fader-knob {
  position: absolute;
  left: 50%;
  top: calc(var(--fader-padding) + (1 - var(--value)) * (100% - (var(--fader-padding) * 2)));
  width: 38px;
  height: 76px;
  border-radius: 10px;
  background: linear-gradient(#2a2a2b, #0e0e0f);
  box-shadow:
    inset 0 9px 12px rgba(255, 255, 255, 0.06),
    inset 0 -12px 16px rgba(0, 0, 0, 0.72),
    0 10px 22px rgba(0, 0, 0, 0.6);
  transform: translate(-50%, -50%);
  cursor: grab;
  touch-action: none;
}

.fader-knob:active {
  cursor: grabbing;
}

.fader-meter {
  position: absolute;
  left: -24px;
  top: var(--fader-padding);
  bottom: var(--fader-padding);
  width: 16px;
  display: flex;
  flex-direction: column-reverse;
  justify-content: space-between;
}

.fader-step {
  height: 2px;
  border-radius: 2px;
  background: linear-gradient(90deg, rgba(22, 22, 24, 0.85), rgba(8, 8, 9, 0.9));
  box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.6);
  opacity: 0.28;
  transition: opacity 140ms ease, background 140ms ease, box-shadow 140ms ease;
}

.fader-step.lit {
  opacity: 0.95;
  background: linear-gradient(90deg, #5cf1ff, #00c1ff);
  box-shadow:
    0 0 6px rgba(92, 241, 255, 0.5),
    inset 0 0 4px rgba(0, 0, 0, 0.35);
}

.surface > *[style*="--col"] {
  grid-column: var(--col);
}

.surface > *[style*="--row"] {
  grid-row: var(--row);
}
